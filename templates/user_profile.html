{{define "scripts"}}
<script src="/static/avatar_generator.js" defer></script>
{{end}}

{{define "main"}}
<p>
    <a href="/"><- back home</a>
</p>

<h1>{{.User.Name}}</h1>

<form method="post" enctype="multipart/form-data">
    {{csrf_field}}
    {{template "form_errors" .Form.Errors}}
    <div>
        <label>
            Display Name<br>
            <input type="text" name="display_name" value="{{.Form.DisplayName}}">
        </label>
    </div>
    <div>
        <label for="bio">Bio</label>
    </div>
    <div>
        <textarea name="bio" id="bio" rows="4" cols="60">{{.Form.Bio}}</textarea>
    </div>
    <div>
        <!-- TODO: display current avatar -->
        <label for="avatar">Avatar</label>
        <h-avatar-gen>
            <div>
                <img src="{{.User.AvatarURL}}" alt="your current avatar">
            </div>
            <div>
                <canvas width="256" height="256">
                </canvas>
            </div>
            <input type="file" name="avatar" id="avatar" accept="image/png" hidden>
            <button type="button" data-action="generate">Generate!</button>
        </h-avatar-gen>
    </div>
    <button>Save</button>
</form>
{{end}}
